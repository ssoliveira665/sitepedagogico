<form method="post">
    {% csrf_token %}
    <div class="form-group">
        <label for="local_prova">Local de realização das provas</label>
        {{ form.local_exame }}
    </div>
    
    <div class="form-group">
        <label for="escola">Escola</label>
        {{ form.escola }}
    </div>
    
    <div class="form-group">
        <label for="todas_disciplinas">Deseja realizar prova de todas as disciplinas?</label>
        {{ form.todas_disciplinas }}
    </div>
    
    <div id="disciplinas_container" style="display:none;">
        <label for="disciplinas">Selecione as disciplinas</label>
        {{ form.disciplinas }}
    </div>

    <button type="submit">Enviar</button>
</form>

<script>
document.addEventListener('DOMContentLoaded', function() {
    const todasDisciplinasCheckbox = document.getElementById('id_todas_disciplinas');
    const disciplinasContainer = document.getElementById('disciplinas_container');

    todasDisciplinasCheckbox.addEventListener('change', function() {
        if (todasDisciplinasCheckbox.checked) {
            disciplinasContainer.style.display = 'none';
        } else {
            disciplinasContainer.style.display = 'block';
        }
    });

    // Trigger the change event on page load in case the checkbox is pre-checked
    todasDisciplinasCheckbox.dispatchEvent(new Event('change'));
});
</script>
